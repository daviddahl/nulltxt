<!doctype html>
<head>
  <meta charset="utf-8">
  <title>nulltxt</title>
  <meta name="description" content="nulltxt comm page">
  <meta name="viewport" 
        content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/jquery.js"></script>
  <script src="js/nulltxt-index.js"></script>
  <script type="text/javascript" src="js/uri.js"></script>
  <script type="text/javascript" src="js/uuid.js"></script>
</head>
<body>
<p>
  <h1 id="top-title" onclick="nulltxt.inboxView();">nulltxt</h1>
</p>

<!-- BEGIN -->
<div id="begin-view" class="top-view">
  <h2>... is a messaging system</h2>
  <p><strong>nulltxt</strong> is a research project using encryption APIs available in Firefox/Gecko to secure email-like messages with trusted colleagues. In order to use <strong>nulltxt</strong>, you need to:
    <ul>
      <li>
        <button id="create-handle-btn">Create</button> a nulltxt 'handle' (username)
      </li>
      <li>Install the <a href="https://addons.mozilla.org/en-US/firefox/addon/nulltxt/versions/?page=1#version-0.1.3">nulltxt extension</a>
      </li>
      <li><button id="begin-using-btn">Begin using nulltxt</button></li>
  </p>
</div>

<!-- INBOX VIEW -->
<div id="inbox-view" class="top-view">
  <h2 id="main-focus-toolbar">
    <button id="main-focus-fetch-msgs">fetch</button> 
    <button id="main-focus-compose">compose</button>
    <button id="invite-new-contact-btn">invite</button>
    <!-- <button id="main-focus-contacts">contacts</button> -->
    <!-- <button id="main-focus-settings">settings</button>  -->
  </h2>
  <select id="inbox" multiple="false" size="12">
  </select>
</div>

<div id="read-messages-view" class="top-view">
  <div id="read-msg">
    <h2 id="read-msg-toolbar">
      From: <span id="read-msg-from"></span> 
      <button id="read-msg-decrypt">Decrypt/Read</button>
      <button id="read-msg-close">Close</button>
    </h2>
    <pre id="read-msg-content"></pre>
  </div>
</div>

<!-- COMPOSE MESSAGE -->
<div id="compose-view" class="top-view">
  <div id="compose-message-id"></div>
  <select id="contacts-list"></select> 
  <button id="choose-contact-message-btn">choose contact</button>
  <button id="invite-new-contact-message-btn">invite new contact</button>
  <br />
  <ul id="compose-addressees"></ul>
  <div id="compose-controls">
    <textarea cols="20" rows="5" id="compose-message" readonly="yes"></textarea>
    <br />
    <button id="compose-cancel">cancel</button>
    <!-- <button id="compose-save">save</button>  -->
    <button id="compose-send">send</button>
  </div>
</div>

<!-- CONTACT LOOKUP -->
<div id="contact-lookup" class="top-view">
  <h2>contact lookup: enter contact's comm url</h2>
  <!-- <select id="contact-scheme"> -->
  <!--   <option>https://</option> -->
  <!--   <option>http://</option> -->
  <!-- </select> -->
  <input size="20" id="contact-input"/>
  <button id="contact-lookup-btn">lookup</button>
  <button id="contact-lookup-cancel-btn">cancel</button>
  <div id="contact-lookup-progress">
    <img src="img/progress-bar.gif" border="0"/>
  </div>
  <ul id="contact-lookup-result"></ul>
</div>

<!-- SETTINGS -->
<div id="settings-view" class="top-view">
  <ul id="settings-list">
    <li>
      <label for="handle">user handle</label>
      <input id="handle"/>
    </li>
    <li>
      <label for="incoming-url">incoming url</label>
      <input id="incoming-url"/>
    </li>
    <li>
      <label for="outgoing-url">outgoing url</label>
      <input id="outgoing-url"/>
    </li>
    <li>
      <label for="api-key">api key</label>
      <input id="api-key"/>
    </li>
    <li>
      <button id="settings-save">save</button>
      <button id="settings-close">close</button>
    </li>
  </ul>
</div>

<!-- INVITATION -->
<div id="invite-view" class="top-view">
</div>

<div id="verify-invite-view" class="top-view">
  <h1>You were invited to use nulltxt</h1>
  <h2>Lucky You!</h2>
  <h2><button id="verify-invite-btn">Verify & Accept this Invitation</button></h2>
</div>

<!-- COMM FRAMES -->
<div id="utility-wrapper">
<!-- CONSOLE -->
<div id="console-wrapper">
  <h3 title="This console is full of diagnostic information. In case of failure, you can look through here to understand what went wrong">console</h3>
  <div id="console">
  </div>
</div>
<!-- OUT FRAME -->
<div id="comm-frame-out" class="com-frame">
  <iframe id="comm-frame-outgoing" src="comm.html" width="10" height="10">
    <p>Your browser does not support iframes.</p>
  </iframe>
</div>
<!-- IN FRAME -->
<div id="comm-frame-in" class="com-frame">
  <iframe id="comm-frame-incoming" src="comm.html" width="10" height="10">
    <p>Your browser does not support iframes.</p>
  </iframe>
</div>
<!-- USER LOOKUP FRAME -->
<div id="comm-frame-user" class="com-frame">
  <iframe id="comm-frame-user-lookup" src="comm.html" width="10" height="10">
    <p>Your browser does not support iframes.</p>
  </iframe>
</div>
</div>

</body>
</html>
